inputs:
  - match: "import-data/connect/chase/*.csv"
    config:
      default_file: main.bean
      prepend_postings:
        - account: Liabilities:ChaseCreditCard
          amount:
            number: "{{ -amount }}"
            currency: "{{ currency | default('USD', true) }}"

imports:
  - name: DoorDash Food Delivery
    match:
      extractor:
        equals: "plaid"
      desc:
        prefix: "DD *DOORDASH"
    actions:
      - txn:
          flag: "{{ '!' if pending else '*' }}"
          payee: "{{ payee | default(omit, true) }}"
          narration: "DoorDash food delivery"
          postings:
            - account: "Expenses:FoodDelivery:DoorDash"
              amount:
                number: "{{ amount }}"
                currency: "{{ currency | default('USD', true) }}"
  - name: Netflix
    match:
      extractor:
        equals: "plaid"
      desc: "Netflix"
    actions:
      - txn:
          flag: "{{ '!' if pending else '*' }}"
          payee: "{{ payee | default(omit, true) }}"
          narration: "Netflix subscription"
          postings:
            - account: "Expenses:Entertainment:StreamingService"
              amount:
                number: "{{ amount }}"
                currency: "{{ currency | default('USD', true) }}"
  - name: Comcast
    match:
      extractor:
        equals: "plaid"
      desc: "Comcast"
    actions:
      - txn:
          flag: "{{ '!' if pending else '*' }}"
          payee: "{{ payee | default(omit, true) }}"
          narration: "Comcast internet service"
          postings:
            - account: "Expenses:Internet"
              amount:
                number: "{{ amount }}"
                currency: "{{ currency | default('USD', true) }}"
